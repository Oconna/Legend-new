<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strategiespiel - Lobby</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header class="game-header">
            <h1>üè∞ Online Strategiespiel</h1>
            <p>Erobere St√§dte, f√ºhre Armeen, herrsche √ºber das Land!</p>
        </header>

        <main class="lobby-main">
            <!-- Player Info Section -->
            <section class="player-section">
                <div class="player-info">
                    <label for="playerName">Dein Name:</label>
                    <input type="text" id="playerName" placeholder="Spielername eingeben..." maxlength="20">
                </div>
            </section>

            <!-- Lobby Sections Grid -->
            <div class="lobby-sections">
                <!-- Game Creation Section -->
                <section class="create-game-section">
                    <h2>Neues Spiel erstellen</h2>
                    <div class="game-form">
                        <div class="form-group">
                            <label for="gameName">Spielname:</label>
                            <input type="text" id="gameName" placeholder="Mein Strategiespiel" maxlength="50">
                        </div>
                        
                        <div class="form-group">
                            <label for="maxPlayers">Spieler (2-8):</label>
                            <select id="maxPlayers">
                                <option value="2">2 Spieler</option>
                                <option value="3">3 Spieler</option>
                                <option value="4" selected>4 Spieler</option>
                                <option value="5">5 Spieler</option>
                                <option value="6">6 Spieler</option>
                                <option value="7">7 Spieler</option>
                                <option value="8">8 Spieler</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="mapSize">Kartengr√∂√üe:</label>
                            <select id="mapSize">
                                <option value="20">Klein (20x20)</option>
                                <option value="30" selected>Mittel (30x30)</option>
                                <option value="50">Gro√ü (50x50)</option>
                                <option value="100">Riesig (100x100)</option>
                            </select>
                        </div>
                        
                        <button id="createGameBtn" class="btn btn-primary">Spiel erstellen</button>
                    </div>
                </section>

                <!-- Available Games Section -->
                <section class="games-section">
                    <h2>Verf√ºgbare Spiele</h2>
                    <div class="games-container">
                        <div id="gamesList" class="games-list">
                            <div class="loading">Lade Spiele...</div>
                        </div>
                    </div>
                    <button id="refreshGamesBtn" class="btn btn-secondary">Spiele aktualisieren</button>
                </section>
            </div>

            <!-- Current Game Lobby Section (shown when in a game) -->
            <section id="currentGameSection" class="current-game-section" style="display: none;">
                <h2>Aktuelle Spiellobby</h2>
                <div class="current-game-info">
                    <div class="game-header">
                        <h3 id="currentGameName">Spielname</h3>
                        <div class="game-meta">
                            <span>Spieler: <span id="currentGamePlayerCount">0</span>/<span id="currentGameMaxPlayers">0</span></span>
                            <span>Karte: <span id="currentGameMapSize">0</span>x<span id="currentGameMapSizeY">0</span></span>
                        </div>
                    </div>
                    
                    <div class="players-lobby">
                        <h4>Spieler in der Lobby:</h4>
                        <ul id="currentGamePlayersList" class="players-lobby-list">
                            <!-- Players will be populated here -->
                        </ul>
                    </div>
                    
                    <div class="lobby-controls">
                        <button id="readyBtn" class="btn btn-success">Bereit</button>
                        <button id="startGameBtn" class="btn btn-primary" style="display: none;">Spiel starten</button>
                        <button id="leaveLobbyBtn" class="btn btn-danger">Lobby verlassen</button>
                    </div>
                    
                    <div class="lobby-status">
                        <p id="lobbyStatusText">Warte auf andere Spieler...</p>
                        <p id="readyStatusText">Bereit: <span id="readyCount">0</span>/<span id="totalPlayers">0</span></p>
                    </div>
                </div>
            </section>
        </main>

        <!-- Game Lobby Modal - REMOVE THIS -->
        <!-- Race Selection Modal - KEEP THIS -->
        <div id="raceSelectionModal" class="modal">
        <div id="raceSelectionModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Rassenwahl</h3>
                </div>
                <div class="modal-body">
                    <div class="race-selection">
                        <p>W√§hle deine Rasse f√ºr das Spiel:</p>
                        <div id="racesList" class="races-grid">
                            <!-- Races will be loaded here -->
                        </div>
                        <div class="race-info">
                            <div id="selectedRaceInfo" class="selected-race-info">
                                <p>W√§hle eine Rasse aus der Liste above.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notifications -->
        <div id="notifications" class="notifications"></div>
    </div>

    <!-- Scripts -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/lobby.js"></script>
</body>
</html>